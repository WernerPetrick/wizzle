<%= form_for [:admin, @post], html: { multipart: true } do |f| %>
  <div class="text-field">
    <%= f.label :title %>
    <%= f.text_field :title, class: "form-input" %>
  </div>
  <div class="text-field">
    <%= f.label :body, "Content (Markdown supported)" %>
    <%= f.text_area :body, rows: 15, class: "form-input" %>
  </div>
  <div class="text-field">
    <%= f.label :markdown_file, "Upload Markdown File" %>
    <%= f.file_field :markdown_file, accept: ".md" %>
    <small style="color: #888;">If you upload a Markdown file, its content will replace the body above.</small>
  </div>
  <div class="text-field">
    <%= f.label :image, "Header Image (optional)" %>
    <%= f.file_field :image %>
  </div>
  <div class="text-field">
    <%= f.label :published %>
    <%= f.check_box :published %>
  </div>
  <% if @post.errors.any? %>
    <div class="form-errors">
      <ul>
        <% @post.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-actions">
    <%= link_to "Cancel", admin_blog_posts_path, class: "btn secondary" %>
    <%= f.submit @post.new_record? ? "Create Blog Post" : "Update Blog Post", class: "btn primary" %>
  </div>
<% end %>