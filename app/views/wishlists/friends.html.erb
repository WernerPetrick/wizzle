<div class="colorful-page friends-wishlists-page">
  <!-- Minimalist Header -->
  <header class="page-header">
    <div class="page-header-container">
      <h1 class="page-title">Shared Wishlists</h1>
      <p class="page-subtitle">Discover the wishes your friends have shared with you</p>
    </div>
  </header>

  <div class="page-content">
    <section class="shared-wishlists">
      <div class="section-container">
        <% if @wishlists.any? %>
          <div class="section-header">
            <h2 class="section-title">Available Wishlists</h2>
            <div class="count-indicator">
              <%= pluralize(@wishlists.count, 'shared wishlist') %>
            </div>
          </div>
          
          <div class="wishlists-grid">
            <% @wishlists.each do |wishlist| %>
              <article class="wishlist-card">
                <div class="wishlist-header">
                  <h3 class="wishlist-title"><%= wishlist.title %></h3>
                  <div class="wishlist-author">
                    <div class="author-avatar">
                      <%= (wishlist.user.name&.first || wishlist.user.email.first).upcase %>
                    </div>
                    <div class="author-info">
                      <span class="author-label">Shared by</span>
                      <span class="author-name"><%= wishlist.user.name.presence || wishlist.user.email.split('@').first.humanize %></span>
                    </div>
                  </div>
                </div>
                
                <div class="wishlist-meta">
                  <div class="meta-item">
                    <span class="meta-number"><%= wishlist.wishlist_items.count %></span>
                    <span class="meta-label">items</span>
                  </div>
                </div>
                
                <% if wishlist.description.present? %>
                  <div class="wishlist-description">
                    <p><%= truncate(wishlist.description, length: 120) %></p>
                  </div>
                <% end %>

                <!-- Items Preview -->
                <% if wishlist.wishlist_items.any? %>
                  <div class="items-preview">
                    <h4 class="preview-title">Items Preview</h4>
                    <div class="preview-list">
                      <% wishlist.wishlist_items.limit(3).each do |item| %>
                        <div class="preview-item">
                          <span class="item-name"><%= truncate(item.name, length: 30) %></span>
                          <% if item.being_bought %>
                            <span class="item-status">Reserved</span>
                          <% end %>
                        </div>
                      <% end %>
                      <% if wishlist.wishlist_items.count > 3 %>
                        <div class="preview-more">
                          + <%= wishlist.wishlist_items.count - 3 %> more items
                        </div>
                      <% end %>
                    </div>
                  </div>
                <% end %>
                
                <div class="wishlist-footer">
                  <%= link_to "View Wishlist", wishlist_path(wishlist), class: "btn primary" %>
                  <div class="sharing-indicator">
                    <span class="sharing-text">Shared</span>
                  </div>
                </div>
              </article>
            <% end %>
          </div>
        <% else %>
          <div class="empty-state">
            <div class="empty-icon">○</div>
            <h2 class="empty-title">No shared wishlists yet</h2>
            <p class="empty-description">
              When your friends create wishlists, their public ones will automatically appear here.<br>
              If you don't see a wishlist, it may be private—ask your friends to share it with you!
            </p>
            <div class="empty-actions">
              <%= link_to "Manage Friends", friends_path, class: "btn secondary" %>
              <%= link_to "Create Your Own", new_wishlist_path, class: "btn primary" %>
            </div>
          </div>
        <% end %>
      </div>
    </section>
  </div>
</div>
